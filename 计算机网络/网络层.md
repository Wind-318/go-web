# 网络层
- ## IP 协议
  - IP 提供面向无连接不可靠传输功能。
  - IP 是分配给每个用户设备的标签，IP 地址保证了每个设备的唯一性，常用 IP 地址分为 **IPv4** 和 **IPv6** 两种。![](IPv4数据报.jpg)
  - **版本**： IPv4 或 IPv6
  - **首部长度**：4 位
  - **数据报长度**：首部长度加数据长度
  - **寿命（TTL）**：数据包每经过一个路由器或三层设备，TTL 就会减一，用于确保数据报不会永远在网络中循环。寿命为 0 时丢弃数据报
  - **上层协议**：指明数据应交给哪一个协议处理
- ## 网际控制报文协议 ICMP
  - 可以用来确认数据是否成功传输和丢失的原因
  - ICMP 基于 IP 协议工作，但属于网络层协议
  - ICMP 协议类型分为两种
    - 查询报文
    - 差错报文
  - ### Ping
    - 作用：用于测试两台主机间连通性
    - 过程：首先构造一个请求数据包，通过 ICMP 协议将数据包和源 IP 地址及目标 IP 地址一起交给 IP 协议。IP 协议构建 IP 数据报，查找目标 IP 对应的 MAC 地址，交给链路层发送出去。目标主机收到后将目标 IP 与源 IP 地址反转，通过 ICMP 协议以相同的方式发送出去。
- ## 路由选择协议
  - ### 内部网关协议 IGP
  - ### 外部网关协议 EGP
- ## 网络地址转换 NAT