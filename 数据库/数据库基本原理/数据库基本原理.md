## 概论
- ### 什么是数据库
数据库是数据管理的有效技术，是由一批数据构成的有序集合。
- ### 什么是SQL
SQL(Structured Query Language)：结构化查询语言，是一种特定的程序语言，用于管理和操作**关系型数据库**。
## SQL基本语法
- 增：
```sql
-- 创建一个teach数据库
CREATE DATABASE teach;
-- 使用teach数据库
USE teach;
--创建一个test表
CREATE TABLE test(
	-- ID作为主键，自动增长
    ID INT UNSIGNED PRIMARY KEY AUTO_INCREMENT ,
	-- varchar类型的name，长度最大为50
    NAME VARCHAR(50) NOT NULL
);
-- 插入一个路人甲和路人乙
INSERT INTO test VALUES(1, "路人甲");
INSERT INTO test VALUES(2, "路人乙");
```
- 删：
```sql
-- 删除路人乙
DELETE FROM test WHERE NAME = "路人乙";
-- 删除table表
DROP TABLE test;
```
- 改：
```sql
-- 将路人甲改名为龙套丙
UPDATE test SET NAME = "龙套丙" WHERE ID = 1;
-- 给表中添加一行年龄字段
ALTER TABLE test ADD COLUMN AGE INT UNSIGNED;
```
- 查：
```sql
-- 查询表中所有信息
SELECT * FROM test;
```
## 事务和ACID
  - 事务是一组不可分割的操作的组合，这组操作要么全部成功，要么全部失败，作为一个最小单元存在。同时，事务还满足ACID特性。
  - ACID指的是原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）、持久性（Durability）。
    - 原子性：事务中的一组操作是不可分割的最小单位，就像原子一样，这组操作作为一个整体，要么全部成功，要么全部失败。
    - 一致性：事务完成前后的数据才可被外界访问，事务进行时的中间状态数据不能被访问。即数据只能从一个事务完成前正确的状态转移到另一个事务完成后正确的状态，而正在进行中的事务中的数据是非法的。
    - 隔离性：一个事务正在进行操作时对其它操作来说是不可见的。
    - 持久性：当事务完成时修改会永久保留，不会因断电等突发情况导致丢失更改。
  - Mysql采用自动提交模式，执行一个操作后会自动提交该事务。如果想显示开启事务需要使用begin开启事务，使用commit提交事务。
## 并发时的问题：
  - 脏读：当隔离性没有被满足时，一个操作读到另一个正在进行的事务中的数据，由于事务没有完成，所以读到了非法数据。这个数据就是脏数据。
  - 不可重复读：一个事务多次读取一个数据，同时还有其它操作正在对此数据进行操作，此时事务两次读取的数据不一样。
  - 幻读：一个事务正在读取一些数据，另一个操作对这部分数据进行增加和删除，导致事务读取到的数据不一样。与不可重复读的区别：幻读是数据数目不同，而不可重复读是数据内容不同。
  - 丢失修改：一个事务的操作被另一个事务覆盖，比如A事务更改了数据，B事务随后又更改了数据，覆盖了A事务的操作，或者B事务删除了这个数据，导致A事务的操作无效。
## 隔离级别
  - 未提交读：允许读取未提交数据。
  - 已提交读：只允许读取已经提交了的数据。可解决脏读问题。
  - 可重复读：只允许读取已经提交了的数据，而且在两次读取一个数据期间不允许其它事务更新该数据。可解决脏读和不可重复读问题。
  - 可串行化：事务只能串行执行，可解决脏读、不可重复读和幻读问题。