# 数据类型
- ## 数值类型
| 类型 | 大小 |
| :----: | :----: |
| TINYINT | 8位 |
| SMALLINT | 16位 |
| MEDIUMINT	 | 24位 |
| INT | 32位 |
| BIGINT | 64位 |
| FLOAT | 32位 |
| DOUBLE | 64位 |
| DECIMAL | 指定 |
- ## 字符串类型
| 类型 | 用途 |
| :----: | :----: |
| CHAR | 存储定长字符串 |
| VARCHAR | 存储变长字符串 |
| TEXT | 存储长文本数据 |
- ## 日期和时间类型
| 类型 | 大小 | 格式 |
| :----: | :----: | :----: |
| DATE | 3字节 | 2021-03-29 |
| TIME | 3字节 | 3:52:36(持续时间) |
| DATETIME | 8字节 | 2021-03-29 15:50:28 |
# 索引
- ## B树与B+树
  - B 树是平衡树，它的每个结点都存储 key 和 data。
  - B+ 树除叶子结点外的结点只存储 key，只有叶子节点存储 data，且每个叶子节点还有指向相邻叶子节点的指针。B 树与 B+ 树结点的 key 都是升序排列。
  - 因为结点多，所以相对红黑树来说高度更低。
  - **B树:** ![](B树.png)
  - **B+树:** ![](B+树.png)
- ## MySQL索引
  - 在中大型表中，索引可以大大减少需要扫描的行数。
  - InnoDB 使用 B+ 树作为索引类型，对主键建立**聚簇索引**，聚簇索引叶子节点包含有全部行信息，一张表只能有一个聚簇索引。
  - 非主键索引的叶子节点包含的是一行的主键，所以需要先找到主键值，再到聚簇索引找行信息。
  - 哈希索引：因为只能精确查询，不支持范围查询所以不适合。
# 查询优化
- 限定数据范围
- 读写分离，主库负责写，从库负责读。
- 切分大查询，大查询一次会锁住很多数据，造成资源耗费。
# 存储引擎
- ## InnoDB
  - 支持事务
  - 默认隔离级别是可重复读
  - 主索引是聚簇索引，效率高
  - 支持行级锁
  - 支持外键
- ## MyISAM
  - 不支持事务
  - 使用非聚簇索引
  - 支持在线热备份
  - 只能对整张表加锁，不支持行级锁
# 主从复制
![](主从复制.png)
# 切分
- ## 水平切分
  - 将一个表按行切分到多个表中
- ## 垂直切分
  - 将一个表按列切分到多个表中