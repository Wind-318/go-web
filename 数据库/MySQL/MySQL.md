# 索引
- ## B树与B+树
  - B 树是平衡树，它的每个结点都存储 key 和 data。
  - B+ 树除叶子结点外的结点只存储 key，只有叶子节点存储 data，且每个叶子节点还有指向相邻叶子节点的指针。B 树与 B+ 树结点的 key 都是升序排列。
  - 因为结点多，所以相对红黑树来说高度更低。
  - **B树:** ![](B树.png)
  - **B+树:** ![](B+树.png)
- ## MySQL索引
  - 在中大型表中，索引可以大大减少需要扫描的行数。
  - InnoDB 使用 B+ 树作为索引类型，对主键建立**聚簇索引**，主键的聚簇索引叶子节点包含有全部行信息
  - 非主键索引的叶子节点包含的是一行的主键，所以需要先找到主键索引，再找行信息。
  - 哈希索引：因为只能精确查询，不支持范围查询所以不适合。
# 查询优化
- 限定数据范围
- 读写分离，主库负责写，从库负责读。
# 存储引擎
- ## InnoDB
  - 支持事务
  - 默认隔离级别是可重复读
  - 主索引是聚簇索引，效率高
  - 支持行级锁
  - 支持外键
- ## MyISAM
  - 不支持事务
  - 使用非聚簇索引
  - 支持在线热备份
  - 只能对整张表加锁，不支持行级锁
# 主从复制
- 