## 死锁
- ### 资源
资源分为两类，**可抢占资源**与**不可抢占资源**，可抢占资源可以从他的进程中抢占资源而不产生副作用，不可抢占资源则不行。  
使用一个资源所需要的事件顺序可以表示如下：  
1、请求资源  
2、使用资源  
3、释放资源

- ### 死锁条件
  - #### 1、互斥条件：每个资源要么已经分配，要么就是可用的。
  - #### 2、占有和等待条件：已经得到了某个资源的进程可以再请求新的资源。
  - #### 3、不可抢占条件：已经被分配的资源不能强制被抢占，只能等持有它的进程显示释放。
  - #### 4、环路等待条件：系统中一定有由两个或两个以上进程组成的环路，环路中每个进程都在等待下一个进程释放它所需的资源。

  当死锁发生时，以上四个条件一定**同时满足**，如果其中任何一个条件不成立，则死锁不会发生。
- ### 解决方法
  - #### 鸵鸟策略：当作无事发生。
  - #### 死锁检测并恢复
  - #### 死锁预防
  - #### 死锁避免
- ### 死锁检测与死锁恢复
  - #### 每种类型一个资源的死锁检测
  - #### 每种类型多个资源的死锁检测
  - #### 死锁恢复
    - ##### 利用抢占恢复
    - ##### 利用回滚回复
    - ##### 通过杀死进程恢复
- ### 死锁预防
  - #### 破坏互斥条件
  - #### 破坏占有并等待条件
  - #### 破坏不可抢占条件
  - #### 破坏环路等待条件
- ### 死锁避免
  - #### 安全状态与不安全状态
  定义：所有进程都请求最大需求资源，仍然存在某种调度方式能够满足所有进程的需求，这种状态就算安全状态，而不安全状态就没有这种保证。
  - #### 单个资源的银行家算法
  将系统比作银行家，如果分配资源后会导致进入不安全状态，就拒绝分配请求。
  - #### 多个资源的银行家算法
- ### 其它
  - #### 活锁：当进程发现无法获取需要的下一个锁时，会释放已获得的锁，并等待一段时间再试。但当两个进程同时进行这个操作，他们都等待相同的时间再重试时仍然会失败。这种情况就是活锁。
  - #### 饥饿：因为资源有限，某些进程可能永远也分配不到资源，就会“饥饿而死”，尽管没有被阻塞，但它无法执行。